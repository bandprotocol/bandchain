// const { expectRevert } = require("openzeppelin-test-helpers");
// const Bridge = artifacts.require("BridgeMock");
// const ReceiverMock = artifacts.require("ReceiverMock");

// require("chai").should();

// contract("Bridge", ([_, owner, alice, bob]) => {
//   context("Checking oracle state relay (4 validators)", () => {
//     beforeEach(async () => {
//       this.bridge = await Bridge.new(
//         [
//           ["0x652D89a66Eb4eA55366c45b1f9ACfc8e2179E1c5", 100],
//           ["0x88e1cd00710495EEB93D4f522d16bC8B87Cb00FE", 100],
//           ["0xaAA22E077492CbaD414098EBD98AA8dc1C7AE8D9", 100],
//           ["0xB956589b6fC5523eeD0d9eEcfF06262Ce84ff260", 100],
//         ],
//         { from: owner },
//       );
//     });

//     it("should accept correct state relay (validator power is more than 2/3)", async () => {
//       await this.bridge.relayOracleState(
//         "23", // _blockHeight,
//         [
//           "0x6B1B62312E2F247A4877C1DA34E247B5703CE1993A4970E0D2C3C3DEFE512A4F", // accToMemCapStoresMerkleHash
//           "0xF4371C7D8F621ABCA940C9DC49B41254616E558D4D9AD4C38520E8CFA9D3FA50", // mintStoresMerkleHash
//           "0x8A3FE9DA322AEB368EC504019B97BF95EEDCD4C7400A06090E0D8BE04BF639B0", // oracleIAVLStateHash
//           "0xB1F2FD852E790E735CA2D3014F96A2A53C60393E9C6BBF941B9A6DD6A05CF6F9", // paramsAndSlashingStoresMerkleHash
//           "0x19890C45F18444BF75BEB9A4B3017D6C023906CE1F2A4789AFF1B36DC7E98BE2", // stakingAndUpgradeStoresMerkleHash
//         ],
//         [
//           "0x32FA694879095840619F5E49380612BD296FF7E950EAFB66FF654D99CA70869E", // versionAndChainIdHash
//           "0xCF8AEA2D214B6EF9800C8D02829B4890F38E0FA1FBB1C794010BD8910F9981FA", // timeHash
//           "0x5A3FA6E2E1087B5996FC1DEEB0A899B2A2903C9A8E3A130CDF8F9DDC3C20175D", // lastBlockIDAndOther
//           "0x36629E76489DB025572F385D373328F84C066639408A8319D129A606AABA11D8", // nextValidatorHashAndConsensusHash
//           "0x6E340B9CFFB37A989CA544E6BB780A2C78901D3FB33738768511A30617AFA01D", // lastResultsHash
//           "0x0CF1E6ECE60E49D19BB57C1A432E805F39BB4F65C366741E4F03FA54FBD90714", // evidenceAndProposerHash
//         ],
//         "0x6E0802118D0000000000000022480A20", // _signedDataPrefix
//         [
//           [
//             "0x62A900783D67A397A0CE36C82108122B97ACF88034CA917209937E2FF29EDB1C", // r
//             "0x378595FF3223971F63946D133DE29189497BC800F26370AF44512DDC3B02A1F1", // s
//             27, // v
//             "0x12240A205F339FD218803D4B7BCBEC09FB24D1BCEAE0938FA20FD028C2993D9731690CBB10012A0C08DFD6A0F50510D1E2E19103320962616E64636861696E", // signedDataSuffix
//           ],
//           [
//             "0x97009E1695FBD0FA6708C08C31EF92D28FA1AC64C6E6346193DE375AD377DE44", // r
//             "0x54DB42DFE62EC6B2C755DB707D7DF48EF49485EF8282C91054B728F052E452AC", // s
//             28, // v
//             "0x12240A205F339FD218803D4B7BCBEC09FB24D1BCEAE0938FA20FD028C2993D9731690CBB10012A0C08DFD6A0F5051084A2F89103320962616E64636861696E", // signedDataSuffix
//           ],
//           [
//             "0x950C0D5475AB4D2E7257811A4F304201D6CC52F7F5D06B8CDBB53922C4BCD140", // r
//             "0x4C747F4985569E59401E450F12F37933AED9EB9FB2F20CF022DAC9D31B9AADDC", // s
//             28, // v
//             "0x12240A205F339FD218803D4B7BCBEC09FB24D1BCEAE0938FA20FD028C2993D9731690CBB10012A0C08DFD6A0F505109685E29103320962616E64636861696E", // signedDataSuffix
//           ],
//         ],
//       );
//     });

//     it("should revert if sum of validator powers is less than 2/3)", async () => {
//       await expectRevert(
//         this.bridge.relayOracleState(
//           "63407", // _blockHeight,
//           [
//             "0x2B14E5AB19A88F23B3F6C694659374DF21E21935A7C0B8565C4E7B43AAB3BB43", // accToMemCapStoresMerkleHash
//             "0x06223635C7D081E76F30998DA7D601AB9AB8602C9AE7095E319C68F4CE2F5F73", // mintStoresMerkleHash
//             "0xC744B497E2569517AA2F053E2A4E09C67427DC0FD8840048C607AF8F17D9100C", // oracleIAVLStateHash
//             "0xAE658B0EA9B1C87323D0FA810ADBE9DB91BE0BAEA62D29F376488666ECA9BBEB", // paramsAndSlashingStoresMerkleHash
//             "0xAA66B682A3FE96C372A095A43F2E73B33E89D835DB3BBF2496546328A7BD4961", // stakingAndUpgradeStoresMerkleHash
//           ],
//           [
//             "0x32FA694879095840619F5E49380612BD296FF7E950EAFB66FF654D99CA70869E", // versionAndChainIdHash
//             "0x9F667F22196CFEBD590E3B178148942EF40C5B693336BF20608D5F21AA679ABC", // timeHash
//             "0xF665C04557D07EAACFC46F2E5B5D267C3B2C4EEAF395784F30CC84266816A89D", // lastBlockIDAndOther
//             "0xE3BB39F3B621939B734AF396D7CF5CCFDEDD4A3D16F139FD481874BC6F6E52B4", // nextValidatorHashAndConsensusHash
//             "0x6E340B9CFFB37A989CA544E6BB780A2C78901D3FB33738768511A30617AFA01D", // lastResultsHash
//             "0xD991DA4D4E69473CC75A4B819F9E07D4956671A6F4A74DF4CC16596FCBE68137", // evidenceAndProposerHash
//           ],
//           "0x6E080211AFF700000000000022480A20", // _signedDataPrefix
//           [
//             [
//               "0x97009E1695FBD0FA6708C08C31EF92D28FA1AC64C6E6346193DE375AD377DE44", // r
//               "0x54DB42DFE62EC6B2C755DB707D7DF48EF49485EF8282C91054B728F052E452AC", // s
//               28, // v
//               "0x12240A205F339FD218803D4B7BCBEC09FB24D1BCEAE0938FA20FD028C2993D9731690CBB10012A0C08DFD6A0F5051084A2F89103320962616E64636861696E", // signedDataSuffix
//             ],
//             [
//               "0x950C0D5475AB4D2E7257811A4F304201D6CC52F7F5D06B8CDBB53922C4BCD140", // r
//               "0x4C747F4985569E59401E450F12F37933AED9EB9FB2F20CF022DAC9D31B9AADDC", // s
//               28, // v
//               "0x12240A205F339FD218803D4B7BCBEC09FB24D1BCEAE0938FA20FD028C2993D9731690CBB10012A0C08DFD6A0F505109685E29103320962616E64636861696E", // signedDataSuffix
//             ],
//           ],
//         ),
//         "INSUFFICIENT_VALIDATOR_SIGNATURES",
//       );
//     });

//     it("should not accept out-of-order signatures", async () => {
//       await expectRevert(
//         this.bridge.relayOracleState(
//           "63407", // _blockHeight,
//           [
//             "0x2B14E5AB19A88F23B3F6C694659374DF21E21935A7C0B8565C4E7B43AAB3BB43", // accToMemCapStoresMerkleHash
//             "0x06223635C7D081E76F30998DA7D601AB9AB8602C9AE7095E319C68F4CE2F5F73", // mintStoresMerkleHash
//             "0xC744B497E2569517AA2F053E2A4E09C67427DC0FD8840048C607AF8F17D9100C", // oracleIAVLStateHash
//             "0xAE658B0EA9B1C87323D0FA810ADBE9DB91BE0BAEA62D29F376488666ECA9BBEB", // paramsAndSlashingStoresMerkleHash
//             "0xAA66B682A3FE96C372A095A43F2E73B33E89D835DB3BBF2496546328A7BD4961", // stakingAndUpgradeStoresMerkleHash
//           ],
//           [
//             "0x32FA694879095840619F5E49380612BD296FF7E950EAFB66FF654D99CA70869E", // versionAndChainIdHash
//             "0x9F667F22196CFEBD590E3B178148942EF40C5B693336BF20608D5F21AA679ABC", // timeHash
//             "0xF665C04557D07EAACFC46F2E5B5D267C3B2C4EEAF395784F30CC84266816A89D", // lastBlockIDAndOther
//             "0xE3BB39F3B621939B734AF396D7CF5CCFDEDD4A3D16F139FD481874BC6F6E52B4", // nextValidatorHashAndConsensusHash
//             "0x6E340B9CFFB37A989CA544E6BB780A2C78901D3FB33738768511A30617AFA01D", // lastResultsHash
//             "0xD991DA4D4E69473CC75A4B819F9E07D4956671A6F4A74DF4CC16596FCBE68137", // evidenceAndProposerHash
//           ],
//           "0x6E080211AFF700000000000022480A20", // _signedDataPrefix
//           [
//             [
//               "0x950C0D5475AB4D2E7257811A4F304201D6CC52F7F5D06B8CDBB53922C4BCD140", // r
//               "0x4C747F4985569E59401E450F12F37933AED9EB9FB2F20CF022DAC9D31B9AADDC", // s
//               28, // v
//               "0x12240A205F339FD218803D4B7BCBEC09FB24D1BCEAE0938FA20FD028C2993D9731690CBB10012A0C08DFD6A0F505109685E29103320962616E64636861696E", // signedDataSuffix
//             ],
//             [
//               "0x97009E1695FBD0FA6708C08C31EF92D28FA1AC64C6E6346193DE375AD377DE44", // r
//               "0x54DB42DFE62EC6B2C755DB707D7DF48EF49485EF8282C91054B728F052E452AC", // s
//               28, // v
//               "0x12240A205F339FD218803D4B7BCBEC09FB24D1BCEAE0938FA20FD028C2993D9731690CBB10012A0C08DFD6A0F5051084A2F89103320962616E64636861696E", // signedDataSuffix
//             ],
//             [
//               "0x62A900783D67A397A0CE36C82108122B97ACF88034CA917209937E2FF29EDB1C", // r
//               "0x378595FF3223971F63946D133DE29189497BC800F26370AF44512DDC3B02A1F1", // s
//               27, // v
//               "0x12240A205F339FD218803D4B7BCBEC09FB24D1BCEAE0938FA20FD028C2993D9731690CBB10012A0C08DFD6A0F50510D1E2E19103320962616E64636861696E", // signedDataSuffix
//             ],
//           ],
//         ),
//         "INVALID_SIGNATURE_SIGNER_ORDER",
//       );
//     });

//     it("should not accept invalid signature", async () => {
//       await expectRevert(
//         this.bridge.relayOracleState(
//           "63407", // _blockHeight,
//           [
//             "0x2B14E5AB19A88F23B3F6C694659374DF21E21935A7C0B8565C4E7B43AAB3BB43", // accToMemCapStoresMerkleHash
//             "0x06223635C7D081E76F30998DA7D601AB9AB8602C9AE7095E319C68F4CE2F5F73", // mintStoresMerkleHash
//             "0xC744B497E2569517AA2F053E2A4E09C67427DC0FD8840048C607AF8F17D9100C", // oracleIAVLStateHash
//             "0xAE658B0EA9B1C87323D0FA810ADBE9DB91BE0BAEA62D29F376488666ECA9BBEB", // paramsAndSlashingStoresMerkleHash
//             "0xAA66B682A3FE96C372A095A43F2E73B33E89D835DB3BBF2496546328A7BD4961", // stakingAndUpgradeStoresMerkleHash
//           ],
//           [
//             "0x32FA694879095840619F5E49380612BD296FF7E950EAFB66FF654D99CA70869E", // versionAndChainIdHash
//             "0x9F667F22196CFEBD590E3B178148942EF40C5B693336BF20608D5F21AA679ABC", // timeHash
//             "0xF665C04557D07EAACFC46F2E5B5D267C3B2C4EEAF395784F30CC84266816A89D", // lastBlockIDAndOther
//             "0xE3BB39F3B621939B734AF396D7CF5CCFDEDD4A3D16F139FD481874BC6F6E52B4", // nextValidatorHashAndConsensusHash
//             "0x6E340B9CFFB37A989CA544E6BB780A2C78901D3FB33738768511A30617AFA01D", // lastResultsHash
//             "0xD991DA4D4E69473CC75A4B819F9E07D4956671A6F4A74DF4CC16596FCBE68137", // evidenceAndProposerHash
//           ],
//           "0x6E080211AFF700000000000022480A20", // _signedDataPrefix
//           [
//             [
//               // This sigature is wrong
//               "0x62A900783D67A397A0CE36C82108122B97ACF88034CA917209937E2FF29EDB1C", // r
//               "0x378595FF3223971F63946D133DE29189497BC800F26370AF44512DDC3B02A1F1", // s
//               28, // v
//               "0x12240A205F339FD218803D4B7BCBEC09FB24D1BCEAE0938FA20FD028C2993D9731690CBB10012A0C08DFD6A0F50510D1E2E19103320962616E64636861696E", // signedDataSuffix
//             ],
//             [
//               "0x97009E1695FBD0FA6708C08C31EF92D28FA1AC64C6E6346193DE375AD377DE44", // r
//               "0x54DB42DFE62EC6B2C755DB707D7DF48EF49485EF8282C91054B728F052E452AC", // s
//               28, // v
//               "0x12240A205F339FD218803D4B7BCBEC09FB24D1BCEAE0938FA20FD028C2993D9731690CBB10012A0C08DFD6A0F5051084A2F89103320962616E64636861696E", // signedDataSuffix
//             ],
//             [
//               "0x950C0D5475AB4D2E7257811A4F304201D6CC52F7F5D06B8CDBB53922C4BCD140", // r
//               "0x4C747F4985569E59401E450F12F37933AED9EB9FB2F20CF022DAC9D31B9AADDC", // s
//               28, // v
//               "0x12240A205F339FD218803D4B7BCBEC09FB24D1BCEAE0938FA20FD028C2993D9731690CBB10012A0C08DFD6A0F505109685E29103320962616E64636861696E", // signedDataSuffix
//             ],
//           ],
//         ),
//         "INSUFFICIENT_VALIDATOR_SIGNATURES",
//       );
//     });
//   });

//   context("Checking data verification", () => {
//     beforeEach(async () => {
//       this.bridge = await Bridge.new([]);
//       await this.bridge.setOracleState(
//         "182", // _blockHeight
//         "0xB59AD73DB9147F6AC7C88A64B1BAD51C90F8C48B4487ADA9276A323808E56E3E", // _oracleIAVLStateHash
//       );
//     });

//     it("should not accept unrelayed block", async () => {
//       await expectRevert(
//         this.bridge.verifyOracleData(
//           "9999", // _blockHeight
//           ["beeb", 1, "0x0000000342544300000000000003e8", 4, 4], // _requestPacket
//           ["beeb", 1, 4, 1591598291, 1591598295, 1, "0x0000000000948e69"], // _responsePacket
//           "163", // _version
//           [
//             [
//               true, // isDataOnRight
//               "2", // subtreeHeight
//               "3", // subtreeSize
//               "180", // subtreeVersion
//               "0x4D4479F8CF02CBA65F95231B06EEAA51E99F75A153C3ED28D9A86B565DE59306", // siblingHash
//             ],
//             [
//               true, // isDataOnRight
//               "3", // subtreeHeight
//               "5", // subtreeSize
//               "180", // subtreeVersion
//               "0x8861AD25F99A677D4934541A99928CDBE18BBF34EE39D754E93CCE090BE70502", // siblingHash
//             ],
//             [
//               true, // isDataOnRight
//               "4", // subtreeHeight
//               "9", // subtreeSize
//               "180", // subtreeVersion
//               "0x5D162C955AE030390CEA63CA7ED8BA72B7A49E0BC73DAEA23CF6B79E8899C49C", // siblingHash
//             ],
//             [
//               true, // isDataOnRight
//               "5", // subtreeHeight
//               "16", // subtreeSize
//               "180", // subtreeVersion
//               "0x08DD24B96C3C9413BA46A7149232C18AD66DB68AC04CF2A770B707B6D29FC8F7", // siblingHash
//             ],
//             [
//               true, // isDataOnRight
//               "6", // subtreeHeight
//               "24", // subtreeSize
//               "180", // subtreeVersion
//               "0x32D2E1CC89F3FBD139C35B5D5FE6430799AEEFD495C882C419A120B7257E3F5A", // siblingHash
//             ],
//             [
//               true, // isDataOnRight
//               "7", // subtreeHeight
//               "62", // subtreeSize
//               "181", // subtreeVersion
//               "0x691B2504CD253868BCCD43774C8B8DBFA1E2D0D41C07C23F2F1237FCF0D2F0D8", // siblingHash
//             ],
//           ],
//         ),
//         "NO_ORACLE_ROOT_STATE_DATA",
//       );
//     });

//     it("should accept correct data verification", async () => {
//       const ret = await this.bridge.verifyOracleData(
//         "182", // _blockHeight
//         ["beeb", 1, "0x0000000342544300000000000003e8", 4, 4], // _requestPacket
//         ["beeb", 1, 4, 1591598291, 1591598295, 1, "0x0000000000948e69"], // _responsePacket
//         "163", // _version
//         [
//           [
//             true, // isDataOnRight
//             "2", // subtreeHeight
//             "3", // subtreeSize
//             "180", // subtreeVersion
//             "0x4D4479F8CF02CBA65F95231B06EEAA51E99F75A153C3ED28D9A86B565DE59306", // siblingHash
//           ],
//           [
//             true, // isDataOnRight
//             "3", // subtreeHeight
//             "5", // subtreeSize
//             "180", // subtreeVersion
//             "0x8861AD25F99A677D4934541A99928CDBE18BBF34EE39D754E93CCE090BE70502", // siblingHash
//           ],
//           [
//             true, // isDataOnRight
//             "4", // subtreeHeight
//             "9", // subtreeSize
//             "180", // subtreeVersion
//             "0x5D162C955AE030390CEA63CA7ED8BA72B7A49E0BC73DAEA23CF6B79E8899C49C", // siblingHash
//           ],
//           [
//             true, // isDataOnRight
//             "5", // subtreeHeight
//             "16", // subtreeSize
//             "180", // subtreeVersion
//             "0x08DD24B96C3C9413BA46A7149232C18AD66DB68AC04CF2A770B707B6D29FC8F7", // siblingHash
//           ],
//           [
//             true, // isDataOnRight
//             "6", // subtreeHeight
//             "24", // subtreeSize
//             "180", // subtreeVersion
//             "0x32D2E1CC89F3FBD139C35B5D5FE6430799AEEFD495C882C419A120B7257E3F5A", // siblingHash
//           ],
//           [
//             true, // isDataOnRight
//             "7", // subtreeHeight
//             "62", // subtreeSize
//             "181", // subtreeVersion
//             "0x691B2504CD253868BCCD43774C8B8DBFA1E2D0D41C07C23F2F1237FCF0D2F0D8", // siblingHash
//           ],
//         ],
//       );
//       ret[0]
//         .toString()
//         .should.eq(
//           ["beeb", 1, "0x0000000342544300000000000003e8", 4, 4].toString(),
//         );
//       ret[1]
//         .toString()
//         .should.eq(
//           ["beeb", 1, 4, 1591598291, 1591598295, 1, "0x0000000000948e69"].toString(),
//         );
//     });

//     it("should not accept invalid data verification", async () => {
//       await expectRevert(
//         this.bridge.verifyOracleData(
//           "182", // _blockHeight
//           ["wrong_id", 1, "0x0000000342544300000000000003e8", 4, 4], // _requestPacket
//           ["wrong_id", 1, 4, 1591598291, 1591598295, 1, "0x0000000000948e69"], // _responsePacket
//           "163", // _version
//           [
//             [
//               true, // isDataOnRight
//               "2", // subtreeHeight
//               "3", // subtreeSize
//               "180", // subtreeVersion
//               "0x4D4479F8CF02CBA65F95231B06EEAA51E99F75A153C3ED28D9A86B565DE59306", // siblingHash
//             ],
//             [
//               true, // isDataOnRight
//               "3", // subtreeHeight
//               "5", // subtreeSize
//               "180", // subtreeVersion
//               "0x8861AD25F99A677D4934541A99928CDBE18BBF34EE39D754E93CCE090BE70502", // siblingHash
//             ],
//             [
//               true, // isDataOnRight
//               "4", // subtreeHeight
//               "9", // subtreeSize
//               "180", // subtreeVersion
//               "0x5D162C955AE030390CEA63CA7ED8BA72B7A49E0BC73DAEA23CF6B79E8899C49C", // siblingHash
//             ],
//             [
//               true, // isDataOnRight
//               "5", // subtreeHeight
//               "16", // subtreeSize
//               "180", // subtreeVersion
//               "0x08DD24B96C3C9413BA46A7149232C18AD66DB68AC04CF2A770B707B6D29FC8F7", // siblingHash
//             ],
//             [
//               true, // isDataOnRight
//               "6", // subtreeHeight
//               "24", // subtreeSize
//               "180", // subtreeVersion
//               "0x32D2E1CC89F3FBD139C35B5D5FE6430799AEEFD495C882C419A120B7257E3F5A", // siblingHash
//             ],
//             [
//               true, // isDataOnRight
//               "7", // subtreeHeight
//               "62", // subtreeSize
//               "181", // subtreeVersion
//               "0x691B2504CD253868BCCD43774C8B8DBFA1E2D0D41C07C23F2F1237FCF0D2F0D8", // siblingHash
//             ],
//           ],
//         ),
//         "INVALID_ORACLE_DATA_PROOF",
//       );
//     });

//     it("should not accept incomplete proof", async () => {
//       await expectRevert(
//         this.bridge.verifyOracleData(
//           "182", // _blockHeight
//           ["beeb", 1, "0x0000000342544300000000000003e8", 4, 4], // _requestPacket
//           ["beeb", 1, 4, 1591598291, 1591598295, 1, "0x0000000000948e69"], // _responsePacket
//           "163", // _version
//           [
//             [
//               true, // isDataOnRight
//               "2", // subtreeHeight
//               "3", // subtreeSize
//               "180", // subtreeVersion
//               "0x4D4479F8CF02CBA65F95231B06EEAA51E99F75A153C3ED28D9A86B565DE59306", // siblingHash
//             ],
//             [
//               true, // isDataOnRight
//               "3", // subtreeHeight
//               "5", // subtreeSize
//               "180", // subtreeVersion
//               "0x8861AD25F99A677D4934541A99928CDBE18BBF34EE39D754E93CCE090BE70502", // siblingHash
//             ],
//             [
//               true, // isDataOnRight
//               "7", // subtreeHeight
//               "62", // subtreeSize
//               "181", // subtreeVersion
//               "0x691B2504CD253868BCCD43774C8B8DBFA1E2D0D41C07C23F2F1237FCF0D2F0D8", // siblingHash
//             ],
//           ],
//         ),
//         "INVALID_ORACLE_DATA_PROOF",
//       );
//     });
//   });

//   context("Relay and Verfiy data", () => {
//     beforeEach(async () => {
//       this.bridge = await Bridge.new([
//         ["0x88e1cd00710495EEB93D4f522d16bC8B87Cb00FE", 100],
//         ["0x652D89a66Eb4eA55366c45b1f9ACfc8e2179E1c5", 100],
//         ["0xB956589b6fC5523eeD0d9eEcfF06262Ce84ff260", 100],
//         ["0xaAA22E077492CbaD414098EBD98AA8dc1C7AE8D9", 100],
//       ]);

//       this.receiver = await ReceiverMock.new(this.bridge.address);
//     });

//     it("should accept valid relay and verify", async () => {
//       await this.receiver.relayAndSafe(
//         "0x00000000000000000000000000000000000000000000000000000000000000400000000000000000000000000000000000000000000000000000000000000580000000000000000000000000000000000000000000000000000000000000052000000000000000000000000000000000000000000000000000000000000000B62C7D7E7BA51DF2777C536853A756A16A819756197A4572321A26AB05AE67387DA024E7CEA39BC3D9647DB7B02BF53B6A355798C2A069C2127646611DC9A6F8D6B59AD73DB9147F6AC7C88A64B1BAD51C90F8C48B4487ADA9276A323808E56E3E9E99B1B4650D127DCA737DD8227802BF5DC37A1853B7876797F41C51335711B0D47B781D3C0B86AC1375291655C4FFB13A32599275C25B23A8FEF0C2EC621B3732FA694879095840619F5E49380612BD296FF7E950EAFB66FF654D99CA70869E98C3040A1B3EC0140574C76E395846B68956B7E768236F1138C584612C30026E51D4EF48E284319715696EDF4B973750E37C1750B499046B05913D0EB7BBFF08004209A161040AB1778E2F2C00EE482F205B28EFBA439FCB04EA283F619478D96E340B9CFFB37A989CA544E6BB780A2C78901D3FB33738768511A30617AFA01D7F4BE7E5A1EB872AD44103360DDC190410331280C42A54D829A5D752C796685D00000000000000000000000000000000000000000000000000000000000001C0000000000000000000000000000000000000000000000000000000000000020000000000000000000000000000000000000000000000000000000000000000106E080211B60000000000000022480A20000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000003000000000000000000000000000000000000000000000000000000000000006000000000000000000000000000000000000000000000000000000000000001400000000000000000000000000000000000000000000000000000000000000220C9A852EFA06342651AC1DAABE375E008472A5A3E5F3B113C964C792B192BBED8090B42A9DE9A6A0BF6BFCA4737EC9EA7760D2EA83225DD7FC0A738EF78364E23000000000000000000000000000000000000000000000000000000000000001C0000000000000000000000000000000000000000000000000000000000000080000000000000000000000000000000000000000000000000000000000000003F12240A2027FBBA88A245942A70EF32417E30BF8A3C4C074621A397C0C6692235B1A24CEF10012A0C08F2B9F7F60510ACB2BAF201320962616E64636861696E00A6A3CA8F6EAE7DC4E262BFE0391AF39F461B6D6B90003B586FD24C38178BEB8E5EC6B30EAD14B5E1085483211D36D5D8C49514EB7F27A5C475660E932C3BC433000000000000000000000000000000000000000000000000000000000000001C0000000000000000000000000000000000000000000000000000000000000080000000000000000000000000000000000000000000000000000000000000003F12240A2027FBBA88A245942A70EF32417E30BF8A3C4C074621A397C0C6692235B1A24CEF10012A0C08F2B9F7F60510B8BFA8EB01320962616E64636861696E0074F929874CC9ED6C1C189A594B4D3C1BE0AE93BCF981288AA5E32A366D9926D12F97F19470B75ECA618DCAE80EDC154ADAFFF4991D451DD5A72E5489C3C048A6000000000000000000000000000000000000000000000000000000000000001C0000000000000000000000000000000000000000000000000000000000000080000000000000000000000000000000000000000000000000000000000000003F12240A2027FBBA88A245942A70EF32417E30BF8A3C4C074621A397C0C6692235B1A24CEF10012A0C08F2B9F7F60510F4DC94EF01320962616E64636861696E00000000000000000000000000000000000000000000000000000000000000070000000000000000000000000000000000000000000000000000000000000000B600000000000000000000000000000000000000000000000000000000000000A000000000000000000000000000000000000000000000000000000000000001C000000000000000000000000000000000000000000000000000000000000000A3000000000000000000000000000000000000000000000000000000000000032000000000000000000000000000000000000000000000000000000000000000A0000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000E00000000000000000000000000000000000000000000000000000000000000004000000000000000000000000000000000000000000000000000000000000000400000000000000000000000000000000000000000000000000000000000000046265656200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000F0000000342544300000000000003E8000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000E000000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000004000000000000000000000000000000000000000000000000000000005EDDDCD3000000000000000000000000000000000000000000000000000000005EDDDCD7000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000001200000000000000000000000000000000000000000000000000000000000000004626565620000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000080000000000948E69000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000600000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000000000000000000000000300000000000000000000000000000000000000000000000000000000000000B44D4479F8CF02CBA65F95231B06EEAA51E99F75A153C3ED28D9A86B565DE5930600000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000003000000000000000000000000000000000000000000000000000000000000000500000000000000000000000000000000000000000000000000000000000000B48861AD25F99A677D4934541A99928CDBE18BBF34EE39D754E93CCE090BE7050200000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000004000000000000000000000000000000000000000000000000000000000000000900000000000000000000000000000000000000000000000000000000000000B45D162C955AE030390CEA63CA7ED8BA72B7A49E0BC73DAEA23CF6B79E8899C49C00000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000005000000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000000B408DD24B96C3C9413BA46A7149232C18AD66DB68AC04CF2A770B707B6D29FC8F700000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000006000000000000000000000000000000000000000000000000000000000000001800000000000000000000000000000000000000000000000000000000000000B432D2E1CC89F3FBD139C35B5D5FE6430799AEEFD495C882C419A120B7257E3F5A00000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000007000000000000000000000000000000000000000000000000000000000000003E00000000000000000000000000000000000000000000000000000000000000B5691B2504CD253868BCCD43774C8B8DBFA1E2D0D41C07C23F2F1237FCF0D2F0D8",
//       );
//       (await this.bridge.oracleStates(182))
//         .toString()
//         .should.eq(
//           "0xb59ad73db9147f6ac7c88a64b1bad51c90f8c48b4487ada9276a323808e56e3e",
//         );
//       const req = await this.receiver.latestReq();
//       req[0].toString().should.eq("beeb");
//       req[1].toString().should.eq("1");
//       req[2].toString().should.eq("0x0000000342544300000000000003e8");
//       req[3].toString().should.eq("4");
//       req[4].toString().should.eq("4");
//       const res = await this.receiver.latestRes();
//       res[0].toString().should.eq("beeb");
//       res[1].toString().should.eq("1");
//       res[2].toString().should.eq("4");
//       res[3].toString().should.eq("1591598291");
//       res[4].toString().should.eq("1591598295");
//       res[5].toString().should.eq("1");
//       res[6].toString().should.eq("0x0000000000948e69");
//     });

//     it("should accept valid relay and verify case 2", async () => {
//       await this.receiver.relayAndSafe(
//         "0x0000000000000000000000000000000000000000000000000000000000000040000000000000000000000000000000000000000000000000000000000000058000000000000000000000000000000000000000000000000000000000000005200000000000000000000000000000000000000000000000000000000000000740DFD90E776259047F0F6F845E6BBAB8048C7D9E5BA2D21D5725813A8A364B0FA0087EFC25179FD9CEE0145433C0FDADD218E399DEFA8FEB8A7F6F3CB8E005A834A761E03B3DC5DF198ECDD53F168B3A6F03A2E17E75DA5FE1F2BDFB9ABFFCD2D909B9FB1298103F56634F13493BF56D8F7AAA107A76D367434EBA6424851831C928A82A17D4DF41DDD517CFAD1731CE2403401852300B2D69832CF52BB71B36F832FA694879095840619F5E49380612BD296FF7E950EAFB66FF654D99CA70869E7236919854FA68E140B28D1496D150B510F04A93D08E9AAB09BE8B55B0A3A7D599717677B2CB09414B23A82DD1D4CB1F5C99904184F3CA780AA43F3BBB1599D6004209A161040AB1778E2F2C00EE482F205B28EFBA439FCB04EA283F619478D96E340B9CFFB37A989CA544E6BB780A2C78901D3FB33738768511A30617AFA01D0EFE3E12F46363C7779140D4CE659925DB52F19053E114D7CC4EFD666B37F79F00000000000000000000000000000000000000000000000000000000000001C0000000000000000000000000000000000000000000000000000000000000020000000000000000000000000000000000000000000000000000000000000000106D080211400700000000000022480A20000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000003000000000000000000000000000000000000000000000000000000000000006000000000000000000000000000000000000000000000000000000000000001400000000000000000000000000000000000000000000000000000000000000220062B83F464C56DAD8E16E9C0B6CE96653CC50BBA4DA0EE526A7FBB025DBFF52D0324FB8B3B4D326438B91DB9FBFD9A1DC5A1039CBD86CE1B6C406E3449F8457C000000000000000000000000000000000000000000000000000000000000001C0000000000000000000000000000000000000000000000000000000000000080000000000000000000000000000000000000000000000000000000000000003E12240A20120EE2D73EB24A9E046BB7A88EA7B59150C751EE8B2BDD32FB7EFFC598DF629710012A0B08E5CBF7F60510A0E8C461320962616E64636861696E0000D74B7CED40418DEBEF59611B036B01CFCE70006DFDF0466C44161CCA969D8B7A7D42D4FEDF26E8EA72F16F2DE36600114769146295D3D0DD01E59868990B080A000000000000000000000000000000000000000000000000000000000000001C0000000000000000000000000000000000000000000000000000000000000080000000000000000000000000000000000000000000000000000000000000003E12240A20120EE2D73EB24A9E046BB7A88EA7B59150C751EE8B2BDD32FB7EFFC598DF629710012A0B08E5CBF7F60510F895A85B320962616E64636861696E0000B34E5271107F6CE4022C5AC086D292678AAFE6A126EDE7DDD9CB2C85F21831111B291960BA9097CD09A8558FC38E6A6CC6AFBE5EF0B3F9CF56EE2613C2DDEC90000000000000000000000000000000000000000000000000000000000000001B0000000000000000000000000000000000000000000000000000000000000080000000000000000000000000000000000000000000000000000000000000003E12240A20120EE2D73EB24A9E046BB7A88EA7B59150C751EE8B2BDD32FB7EFFC598DF629710012A0B08E5CBF7F60510C8FCE95D320962616E64636861696E00000000000000000000000000000000000000000000000000000000000000000760000000000000000000000000000000000000000000000000000000000000074000000000000000000000000000000000000000000000000000000000000000A000000000000000000000000000000000000000000000000000000000000001A0000000000000000000000000000000000000000000000000000000000000073E00000000000000000000000000000000000000000000000000000000000002E000000000000000000000000000000000000000000000000000000000000000A0000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000C0000000000000000000000000000000000000000000000000000000000000000400000000000000000000000000000000000000000000000000000000000000040000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000F0000000342544300000000000003E8000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000E000000000000000000000000000000000000000000000000000000000000000020000000000000000000000000000000000000000000000000000000000000004000000000000000000000000000000000000000000000000000000005EDDE5DC000000000000000000000000000000000000000000000000000000005EDDE5E1000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000800000000009480810000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000007000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000000000000000000000073E610E092555CCDD501F3381C190FC6DCE290A637DCECC3217B00C55D8D0E3F946000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000020000000000000000000000000000000000000000000000000000000000000004000000000000000000000000000000000000000000000000000000000000073E4D4479F8CF02CBA65F95231B06EEAA51E99F75A153C3ED28D9A86B565DE59306000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000030000000000000000000000000000000000000000000000000000000000000006000000000000000000000000000000000000000000000000000000000000073E8861AD25F99A677D4934541A99928CDBE18BBF34EE39D754E93CCE090BE7050200000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000004000000000000000000000000000000000000000000000000000000000000000A000000000000000000000000000000000000000000000000000000000000073E5D162C955AE030390CEA63CA7ED8BA72B7A49E0BC73DAEA23CF6B79E8899C49C000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000050000000000000000000000000000000000000000000000000000000000000011000000000000000000000000000000000000000000000000000000000000073E08DD24B96C3C9413BA46A7149232C18AD66DB68AC04CF2A770B707B6D29FC8F7000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000060000000000000000000000000000000000000000000000000000000000000019000000000000000000000000000000000000000000000000000000000000073E32D2E1CC89F3FBD139C35B5D5FE6430799AEEFD495C882C419A120B7257E3F5A000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000070000000000000000000000000000000000000000000000000000000000000044000000000000000000000000000000000000000000000000000000000000073F1D9C8AE0336A6FA87B3BB43E70C90E80B0CD2ADA6B69448DF9F4990E3ED9E372",
//       );
//       (await this.bridge.oracleStates(1856))
//         .toString()
//         .should.eq(
//           "0xa761e03b3dc5df198ecdd53f168b3a6f03a2e17e75da5fe1f2bdfb9abffcd2d9",
//         );
//       const req = await this.receiver.latestReq();
//       req[0].toString().should.eq("");
//       req[1].toString().should.eq("1");
//       req[2].toString().should.eq("0x0000000342544300000000000003e8");
//       req[3].toString().should.eq("4");
//       req[4].toString().should.eq("4");
//       const res = await this.receiver.latestRes();
//       res[0].toString().should.eq("");
//       res[1].toString().should.eq("2");
//       res[2].toString().should.eq("4");
//       res[3].toString().should.eq("1591600604");
//       res[4].toString().should.eq("1591600609");
//       res[5].toString().should.eq("1");
//       res[6].toString().should.eq("0x0000000000948081");
//     });

//     it("should revert invalid relay and verify", async () => {
//       await expectRevert(
//         this.receiver.relayAndSafe(
//           "0x0000000000000000000000000000000000000000000000000000000000000040000000000000000000000000000000000000000000000000000000000000058000000000000000000000000000000000000000000000000000000000000005200000000000000000000000000000000000000000000000000000000000000234A4AFD853694C8D904E7509C4E388D054D7FECA188CC2AA5F391CE2DE0C1DF753CE9D9F07EEB72C23C2F1DD0D8A19DE627686089917A7E5E8E22FF604DBD6E94BA198FCFAEBF1A6F499B330699B61C2557E8CCAEECDE3AEDD50192AAF87245E166D5B21D67B07D553861AD2BCA87CAE74491965249C30D248902F35AD90B9511C0AB8335CB1AD62163B743379D7292B32401F658713424DDADD38C3232F0224AF32FA694879095840619F5E49380612BD296FF7E950EAFB66FF654D99CA70869E49E1A01E4A705DAFCAD7013CB6A86D2D5505ED76D8F1665CFBBE279FFE000638FFD6B03A759B769DCAD0D02F9DE45A9CC546F947573C108414D456F1A7116059004209A161040AB1778E2F2C00EE482F205B28EFBA439FCB04EA283F619478D96E340B9CFFB37A989CA544E6BB780A2C78901D3FB33738768511A30617AFA01D0EFE3E12F46363C7779140D4CE659925DB52F19053E114D7CC4EFD666B37F79F00000000000000000000000000000000000000000000000000000000000001C0000000000000000000000000000000000000000000000000000000000000020000000000000000000000000000000000000000000000000000000000000000106E080211340200000000000022480A200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000030000000000000000000000000000000000000000000000000000000000000060000000000000000000000000000000000000000000000000000000000000014000000000000000000000000000000000000000000000000000000000000002200E103975CA4DFB90BB0E5A5C091767945978E3EBAB28735A83E8DAD09CA5F6913CA0A40EA5112DCD8A2E4B4E7871F095CB243BD91619090D01494396EEB7A611000000000000000000000000000000000000000000000000000000000000001B0000000000000000000000000000000000000000000000000000000000000080000000000000000000000000000000000000000000000000000000000000003F12240A2060ACC88D982DE2F0B60C7EC7B084B358EB33EFBD3B1F7CB78A07692DAAE5429F10012A0C08AC92A6F50510CCF58EB801320962616E64636861696E00CCC447AF4AB179B0CAF4F25BD5DDC5AC59E9F9D9F4BAA939CCB54CC8FBA643E674A2DA90D06869302F7790F36B7559C84A7702F35E7DE0096991756C42CC65B7000000000000000000000000000000000000000000000000000000000000001B0000000000000000000000000000000000000000000000000000000000000080000000000000000000000000000000000000000000000000000000000000003F12240A2060ACC88D982DE2F0B60C7EC7B084B358EB33EFBD3B1F7CB78A07692DAAE5429F10012A0C08AC92A6F50510EFE7E1B801320962616E64636861696E0090B7F346F8B2BF847CD4D05740A54FB73AB42C5D0190BF4E0795F2289C6489527EE33A5ED014E401361F29A84FC1708EA0FCE74D66FA2A0EE6D3CBE636585ADB000000000000000000000000000000000000000000000000000000000000001C0000000000000000000000000000000000000000000000000000000000000080000000000000000000000000000000000000000000000000000000000000003F12240A2060ACC88D982DE2F0B60C7EC7B084B358EB33EFBD3B1F7CB78A07692DAAE5429F10012A0C08AC92A6F50510A1CFCBB801320962616E64636861696E000000000000000000000000000000000000000000000000000000000000000660000000000000000000000000000000000000000000000000000000000000023400000000000000000000000000000000000000000000000000000000000000A000000000000000000000000000000000000000000000000000000000000001C00000000000000000000000000000000000000000000000000000000000000231000000000000000000000000000000000000000000000000000000000000032000000000000000000000000000000000000000000000000000000000000000A0000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000E00000000000000000000000000000000000000000000000000000000000000004000000000000000000000000000000000000000000000000000000000000000400000000000000000000000000000000000000000000000000000000000000057465737432000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001E303330303030303034323534343336343030303030303030303030303030000000000000000000000000000000000000000000000000000000000000000000E000000000000000000000000000000000000000000000000000000000000000020000000000000000000000000000000000000000000000000000000000000004000000000000000000000000000000000000000000000000000000005EA98920000000000000000000000000000000000000000000000000000000005EA9892600000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000120000000000000000000000000000000000000000000000000000000000000000574657374320000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000010653661313063303030303030303030300000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000050000000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000020000000000000000000000000000000000000000000000000000000000000231F281D7270823933196D3AE4B0C418E92034944CA4E5972BA3A16D5260DC962500000000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000000200000000000000000000000000000000000000000000000000000000000000030000000000000000000000000000000000000000000000000000000000000231D1814868AB070BE64030D05681EBBAA8394251D3FD3A677AA839233CA6EC1C9D000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000030000000000000000000000000000000000000000000000000000000000000005000000000000000000000000000000000000000000000000000000000000023148EAD2DE2ED08B9E45637904A213B3A92BB90C5F70D89E3EBEE8A369DA6C25AB0000000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000000400000000000000000000000000000000000000000000000000000000000000090000000000000000000000000000000000000000000000000000000000000231709E1C73511B24EFDD9B8D3CD717A5210BA20E2411A8529E8B642C54FB002DC400000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000005000000000000000000000000000000000000000000000000000000000000001600000000000000000000000000000000000000000000000000000000000002336A7D1D56C342E6C24F69FE1CEEAE5D6F8BBDE2AC9A101F40FEBBA2CDFEB69C4A",
//         ),
//         "RELAY_ORACLE_STATE_FAILED.",
//       );

//       await expectRevert(
//         this.receiver.relayAndSafe(
//           "0x0000000000000000000000000000000000000000000000000000000000000040000000000000000000000000000000000000000000000000000000000000058000000000000000000000000000000000000000000000000000000000000005200000000000000000000000000000000000000000000000000000000000000234E4AFD853694C8D904E7509C4E388D054D7FECA188CC2AA5F391CE2DE0C1DF753CE9D9F07EEB72C23C2F1DD0D8A19DE627686089917A7E5E8E22FF604DBD6E94BA198FCFAEBF1A6F499B330699B61C2557E8CCAEECDE3AEDD50192AAF87245E166D5B21D67B07D553861AD2BCA87CAE74491965249C30D248902F35AD90B9511C0AB8335CB1AD62163B743379D7292B32401F658713424DDADD38C3232F0224AF32FA694879095840619F5E49380612BD296FF7E950EAFB66FF654D99CA70869E49E1A01E4A705DAFCAD7013CB6A86D2D5505ED76D8F1665CFBBE279FFE000638FFD6B03A759B769DCAD0D02F9DE45A9CC546F947573C108414D456F1A7116059004209A161040AB1778E2F2C00EE482F205B28EFBA439FCB04EA283F619478D96E340B9CFFB37A989CA544E6BB780A2C78901D3FB33738768511A30617AFA01D0EFE3E12F46363C7779140D4CE659925DB52F19053E114D7CC4EFD666B37F79F00000000000000000000000000000000000000000000000000000000000001C0000000000000000000000000000000000000000000000000000000000000020000000000000000000000000000000000000000000000000000000000000000106E080211340200000000000022480A200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000030000000000000000000000000000000000000000000000000000000000000060000000000000000000000000000000000000000000000000000000000000014000000000000000000000000000000000000000000000000000000000000002200E103975CA4DFB90BB0E5A5C091767945978E3EBAB28735A83E8DAD09CA5F6913CA0A40EA5112DCD8A2E4B4E7871F095CB243BD91619090D01494396EEB7A611000000000000000000000000000000000000000000000000000000000000001B0000000000000000000000000000000000000000000000000000000000000080000000000000000000000000000000000000000000000000000000000000003F12240A2060ACC88D982DE2F0B60C7EC7B084B358EB33EFBD3B1F7CB78A07692DAAE5429F10012A0C08AC92A6F50510CCF58EB801320962616E64636861696E00CCC447AF4AB179B0CAF4F25BD5DDC5AC59E9F9D9F4BAA939CCB54CC8FBA643E674A2DA90D06869302F7790F36B7559C84A7702F35E7DE0096991756C42CC65B7000000000000000000000000000000000000000000000000000000000000001B0000000000000000000000000000000000000000000000000000000000000080000000000000000000000000000000000000000000000000000000000000003F12240A2060ACC88D982DE2F0B60C7EC7B084B358EB33EFBD3B1F7CB78A07692DAAE5429F10012A0C08AC92A6F50510EFE7E1B801320962616E64636861696E0090B7F346F8B2BF847CD4D05740A54FB73AB42C5D0190BF4E0795F2289C6489527EE33A5ED014E401361F29A84FC1708EA0FCE74D66FA2A0EE6D3CBE636585ADB000000000000000000000000000000000000000000000000000000000000001C0000000000000000000000000000000000000000000000000000000000000080000000000000000000000000000000000000000000000000000000000000003F12240A2060ACC88D982DE2F0B60C7EC7B084B358EB33EFBD3B1F7CB78A07692DAAE5429F10012A0C08AC92A6F50510A1CFCBB801320962616E64636861696E000000000000000000000000000000000000000000000000000000000000000660000000000000000000000000000000000000000000000000000000000000023400000000000000000000000000000000000000000000000000000000000000A000000000000000000000000000000000000000000000000000000000000001C00000000000000000000000000000000000000000000000000000000000000231000000000000000000000000000000000000000000000000000000000000032000000000000000000000000000000000000000000000000000000000000000A0000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000E00000000000000000000000000000000000000000000000000000000000000004000000000000000000000000000000000000000000000000000000000000000400000000000000000000000000000000000000000000000000000000000000057465737432000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001E303330303030303034323534343336343030303030303030303030303030000000000000000000000000000000000000000000000000000000000000000000E000000000000000000000000000000000000000000000000000000000000000020000000000000000000000000000000000000000000000000000000000000004000000000000000000000000000000000000000000000000000000005EA98920000000000000000000000000000000000000000000000000000000005EA9892600000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000120000000000000000000000000000000000000000000000000000000000000000574657374320000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000010653661313063303030303030303030300000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000050000000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000020000000000000000000000000000000000000000000000000000000000000231F281D7270823933196D3AE4B0C418E92034944CA4E5972BA3A16D5260DC962500000000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000000200000000000000000000000000000000000000000000000000000000000000030000000000000000000000000000000000000000000000000000000000000231D1814868AB070BE64030D05681EBBAA8394251D3FD3A677AA839233CA6EC1C9D000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000030000000000000000000000000000000000000000000000000000000000000005000000000000000000000000000000000000000000000000000000000000023148EAD2DE2ED08B9E45637904A213B3A92BB90C5F70D89E3EBEE8A369DA6C25AB0000000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000000400000000000000000000000000000000000000000000000000000000000000090000000000000000000000000000000000000000000000000000000000000231709E1C73511B24EFDD9B8D3CD717A5210BA20E2411A8529E8B642C54FB002DC400000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000005000000000000000000000000000000000000000000000000000000000000001600000000000000000000000000000000000000000000000000000000000002336A7D1D56C342E6C24F69FE1CEEAE5D6F8BBDE2AC9A101F40FEBBA2CDFEB69B4A",
//         ),
//         "VERIFY_ORACLE_DATA_FAILED.",
//       );
//     });
//   });

//   context("Update provider powers", () => {
//     beforeEach(async () => {
//       this.bridge = await Bridge.new(
//         [
//           ["0x652D89a66Eb4eA55366c45b1f9ACfc8e2179E1c5", 100],
//           ["0x88e1cd00710495EEB93D4f522d16bC8B87Cb00FE", 100],
//           ["0xaAA22E077492CbaD414098EBD98AA8dc1C7AE8D9", 100],
//           ["0xB956589b6fC5523eeD0d9eEcfF06262Ce84ff260", 100],
//         ],
//         { from: owner },
//       );
//     });

//     it("should revert if update validator power by non-onwer", async () => {
//       await expectRevert(
//         this.bridge.updateValidatorPowers(
//           [["0x652D89a66Eb4eA55366c45b1f9ACfc8e2179E1c5", 150]],
//           {
//             from: alice,
//           },
//         ),
//         "Ownable: caller is not the owner.",
//       );
//     });

//     it("should update a validator power", async () => {
//       await this.bridge.updateValidatorPowers(
//         [["0x652D89a66Eb4eA55366c45b1f9ACfc8e2179E1c5", 150]],
//         { from: owner },
//       );

//       (
//         await this.bridge.validatorPowers(
//           "0x652D89a66Eb4eA55366c45b1f9ACfc8e2179E1c5",
//         )
//       )
//         .toString()
//         .should.eq("150");

//       (await this.bridge.totalValidatorPower()).toString().should.eq("450");
//     });

//     it("should update validator powers", async () => {
//       await this.bridge.updateValidatorPowers(
//         [
//           ["0x652D89a66Eb4eA55366c45b1f9ACfc8e2179E1c5", 150],
//           ["0x88e1cd00710495EEB93D4f522d16bC8B87Cb00FE", 0],
//           ["0x85109F11A7E1385ee826FbF5dA97bB97dba0D76f", 200],
//         ],
//         { from: owner },
//       );

//       (
//         await this.bridge.validatorPowers(
//           "0x652D89a66Eb4eA55366c45b1f9ACfc8e2179E1c5",
//         )
//       )
//         .toString()
//         .should.eq("150");

//       (
//         await this.bridge.validatorPowers(
//           "0x88e1cd00710495EEB93D4f522d16bC8B87Cb00FE",
//         )
//       )
//         .toString()
//         .should.eq("0");

//       (
//         await this.bridge.validatorPowers(
//           "0x85109F11A7E1385ee826FbF5dA97bB97dba0D76f",
//         )
//       )
//         .toString()
//         .should.eq("200");

//       (await this.bridge.totalValidatorPower()).toString().should.eq("550");
//     });
//   });
// });
